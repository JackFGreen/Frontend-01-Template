<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>正则匹配 Number 直接量</title>
  </head>
  <body>
    <h1>正则匹配 Number 直接量</h1>
    <div>console</div>

    <script>
      // './numeric-literals.md'

      const rule = {
        decimal: /^(((0|([1-9]([0-9]+)?))\.([0-9]+)?((e|E)((\+|\-)?([0-9]+)))?)|(\.([0-9]+)((e|E)((\+|\-)?([0-9]+)))?)|((0|([1-9]([0-9]+)?))((e|E)((\+|\-)?([0-9]+)))?))$/,
        binary: /^(0(b|B)((0|1)|((0|1)+)))$/,
        octal: /^(0(o|O)([0-7]|([0-7]+)))$/,
        hex: /^(0(x|X)([0-9a-fA-F]|([0-9a-fA-F]+)))$/,
      }

      function regNumber(s, reg) {
        if (reg.test(s)) return s + ' - Match Number - ' + s.match(reg)[0]
        return '    Invalid Number - ' + s
      }

      const decimal = [
        '0',
        '01',
        '0.1',
        '.1',
        '.1e3',
        '.1e-3',
        '.1e--3',
        '1.0',
        '1.',
        '1e3',
        '1e-3',
        '1e--3',
        '.',
        '1.e3',
        '1.0e3',
        '1.0e-3',
        '1.0e--3',
      ]
      const decimalRes = decimal.map((s) => regNumber(s, rule.decimal))
      console.log(decimalRes)

      const binary = ['0b10', '0b12', '0B10', '0B12']
      const binaryRes = binary.map((s) => regNumber(s, rule.binary))
      console.log(binaryRes)

      const octal = ['0o17', '0o18', '0O17', '0O18']
      const octalRes = octal.map((s) => regNumber(s, rule.octal))
      console.log(octalRes)

      const hex = ['0xFF', '0xFG', '0XFF', '0XFG']
      const hexRes = hex.map((s) => regNumber(s, rule.hex))
      console.log(hexRes)

      console.log(`
    ---
  `)

      const allRule = /^((((0|([1-9]([0-9]+)?))\.([0-9]+)?((e|E)((\+|\-)?([0-9]+)))?)|(\.([0-9]+)((e|E)((\+|\-)?([0-9]+)))?)|((0|([1-9]([0-9]+)?))((e|E)((\+|\-)?([0-9]+)))?))|(0(b|B)((0|1)|((0|1)+)))|(0(o|O)([0-7]|([0-7]+)))|(0(x|X)([0-9a-fA-F]|([0-9a-fA-F]+))))$/

      const allNums = [...decimal, ...binary, ...octal, ...hex]
      const allRes = allNums.map((s) => regNumber(s, allRule))
      console.log(allRes)
    </script>
  </body>
</html>
